<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regonna - Current Auctions</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">
            <h1>Regonna</h1>
            <p>Premium Train Ticket Auctions</p>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="auctions.html">Current Auctions</a></li>
                <li><a href="about.html">About</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <div class="search-container">
            <h2>Find Your Premium Journey</h2>
            <form class="search-form" id="searchForm">
                <select name="from" id="fromStation" required>
                    <option value="">From Station</option>
                    <option value="BOM">Mumbai (BOM)</option>
                    <option value="DEL">Delhi (DEL)</option>
                    <option value="BLR">Bangalore (BLR)</option>
                    <option value="MAA">Chennai (MAA)</option>
                    <option value="CCU">Kolkata (CCU)</option>
                </select>
                <select name="to" id="toStation" required>
                    <option value="">To Station</option>
                    <option value="BOM">Mumbai (BOM)</option>
                    <option value="DEL">Delhi (DEL)</option>
                    <option value="BLR">Bangalore (BLR)</option>
                    <option value="MAA">Chennai (MAA)</option>
                    <option value="CCU">Kolkata (CCU)</option>
                </select>
                <input type="date" id="journeyDate" required>
                <select name="class" id="travelClass">
                    <option value="">Select Class</option>
                    <option value="1A">First AC</option>
                    <option value="2A">Second AC</option>
                    <option value="3A">Third AC</option>
                    <option value="SL">Sleeper</option>
                </select>
                <button type="submit" class="btn">Search Auctions</button>
            </form>
        </div>

        <h2>Current Auctions</h2>
        <div id="auctionContainer" class="auction-container">
            <!-- Auctions will be dynamically added here -->
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Regonna. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (document.getElementById('auctionContainer')) {
                setupAuctionsPage();
            }
        });

        function setupAuctionsPage() {
            const searchForm = document.getElementById('searchForm');
            searchForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const fromStation = document.getElementById('fromStation').value;
                const toStation = document.getElementById('toStation').value;
                const journeyDate = document.getElementById('journeyDate').value;
                const travelClass = document.getElementById('travelClass').value;

                // For demo purposes, we'll just display all auctions regardless of the search criteria
                loadAuctions();
            });

            // Load initial auctions
            loadAuctions();
        }

        function loadAuctions() {
            const auctions = [
                { id: 1, from: 'Mumbai (BOM)', to: 'Delhi (DEL)', date: '2024-07-01', class: 'Second AC', currentBid: 2500, timeRemaining: '01:30:00' },
                { id: 2, from: 'Bangalore (BLR)', to: 'Chennai (MAA)', date: '2024-07-03', class: 'Third AC', currentBid: 1800, timeRemaining: '00:45:00' },
                { id: 3, from: 'Kolkata (CCU)', to: 'Mumbai (BOM)', date: '2024-07-05', class: 'Sleeper', currentBid: 1200, timeRemaining: '02:15:00' }
            ];

            const container = document.getElementById('auctionContainer');
            container.innerHTML = ''; // Clear existing auctions

            auctions.forEach(auction => {
                const auctionElement = createAuctionElement(auction);
                container.appendChild(auctionElement);
            });
        }

        function createAuctionElement(auction) {
            const element = document.createElement('div');
            element.className = 'auction-item';
            element.innerHTML = `
                <h3>${auction.from} to ${auction.to}</h3>
                <p>Date: ${auction.date}</p>
                <p>Class: ${auction.class}</p>
                <p>Current Bid: â‚¹<span id="bid-${auction.id}">${auction.currentBid}</span></p>
                <p>Time Remaining: <span class="countdown">${auction.timeRemaining}</span></p>
                <a href="bidding.html?id=${auction.id}" class="btn">Place Bid</a>
            `;
            return element;
        }
    </script>
</body>
</html>
